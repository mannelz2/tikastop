(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(t){if(t.ep)return;t.ep=!0;const e=s(t);fetch(t.href,e)}})();function l(){const r=new URL(window.location.href),o=new URLSearchParams(r.search),s={};for(const[a,t]of o.entries())(a.startsWith("utm_")||a==="ttclid")&&(s[a]=t);return s}function f(r=null){const o=r||l();if(Object.keys(o).length>0)try{localStorage.setItem("utmParameters",JSON.stringify(o))}catch(s){console.error("Erro ao salvar UTM no localStorage:",s)}}function m(){try{const r=localStorage.getItem("utmParameters");if(r)return JSON.parse(r)}catch(r){console.error("Erro ao ler UTM do localStorage:",r)}return{}}function h(r,o={}){const s=l(),t={...m(),...s,...o},e=new URL(r,window.location.origin),n=new URLSearchParams(e.search);for(const[i,c]of Object.entries(t))n.set(i,c);return e.search=n.toString(),e.toString()}function g(r,o={}){const s=h(r,o);window.location.href=s}function u(r="a[href]"){const o=document.querySelectorAll(r),s=l(),t={...m(),...s};Object.keys(t).length!==0&&o.forEach(e=>{const n=e.getAttribute("href");if(!(!n||n.startsWith("#")||n.startsWith("javascript:")||n.startsWith("mailto:")||n.startsWith("tel:")))try{const i=new URL(n,window.location.origin);if(i.origin===window.location.origin){for(const[c,d]of Object.entries(t))i.searchParams.set(c,d);e.setAttribute("href",i.toString())}}catch(i){console.warn("Erro ao processar link:",n,i)}})}function p(){f(),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{u()}):u()}typeof window<"u"&&f();export{p as i,g as r};
